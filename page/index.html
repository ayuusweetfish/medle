<!DOCTYPE html>
<html><head>
  <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' />
  <title>Medle #<%= it.id %></title>
  <link rel='stylesheet' href='/static/index.css'>
</head><body>

<div id='container'>
  <div id='page-title'>Medle #<%= it.id %></div>
  <div id='icon-btns-container'>
    <div id='icon-btn-help'>?</div>
    <div id='icon-btn-options' class='iconfont'>&#xf013;</div>
    <% if (it.isDaily) { %>
      <div id='icon-btn-archive' class='iconfont'>&#x1f4c6;</div>
    <% } %>
  </div>
  <div id='list-container'>
  </div>
  <div id='start-btn-container'>
    <div id='text-loading' class='text-fading'>
      <span data-t='loading'></span>
      <!-- space -->
      <span id='text-loading-progress'></span></div>
    <div class='list btn hidden' id='btn-start'>
      <div class='bg'>
        <div class='bubble' onclick='startGame()'>
          <div class='content'></div>
        </div>
      </div>
      <div class='fg'>
        <div class='bubble'><div class='content iconfont'>&#xf04b;</div></div>
      </div>
      <p id='text-tip' class='text-fading'>
        <span data-t='tip-1'></span>
        <span data-t='tip-2'></span>
        <span data-t='tip-3'></span>
        <span data-t='tip-4'></span>
        <span data-t='tip-5'></span>
      </p>
    </div>
  </div>
  <div id='btns-container'>
    <div class='list btn hidden' id='input-btns-row-1'>
      <div class='bg'>
        <div class='bubble solf-1' onclick='input(1)'><div class='content'><div class='accidental'></div></div></div>
        <div class='bubble solf-2' onclick='input(2)'><div class='content'><div class='accidental'></div></div></div>
        <div class='bubble solf-3' onclick='input(3)'><div class='content'><div class='accidental'></div></div></div>
        <div class='bubble solf-4' onclick='input(4)'><div class='content'><div class='accidental'></div></div></div>
      </div>
      <div class='fg'>
        <div class='bubble solf-1'><div class='content'></div></div>
        <div class='bubble solf-2'><div class='content'></div></div>
        <div class='bubble solf-3'><div class='content'></div></div>
        <div class='bubble solf-4'><div class='content'></div></div>
      </div>
    </div>
    <div class='list btn confirm hidden' id='input-btns-confirm'>
      <div class='bg'>
        <div class='bubble' onclick='confirmGuess()'>
          <div id='input-btn-confirm-bg' class='content'></div>
        </div>
      </div>
      <div class='fg'>
        <div class='bubble'><div class='content'><span class='iconfont'>&#x2714;</span> <span data-t='btn-confirm'></span></div></div>
      </div>
    </div>
    <div class='list btn confirm hidden' id='input-btns-reveal'>
      <div class='bg'>
        <div class='bubble' onclick='revealAnswer()'>
          <div id='input-btn-reveal-bg' class='content'></div>
        </div>
      </div>
      <div class='fg'>
        <div class='bubble'><div class='content iconfont'>&#x1f3b5;</div></div>
      </div>
    </div>
    <div class='list btn hidden must' id='input-btns-row-2'>
      <div class='bg'>
        <div class='bubble solf-5' onclick='input(5)'><div class='content'><div class='accidental'></div></div></div>
        <div class='bubble solf-6' onclick='input(6)'><div class='content'><div class='accidental'></div></div></div>
        <div class='bubble solf-7' onclick='input(7)'><div class='content'><div class='accidental'></div></div></div>
        <div class='bubble nohidden' onclick='input(-1)'>
          <div id='input-btn-del-bg' class='content'></div>
        </div>
      </div>
      <div class='fg'>
        <div class='bubble solf-5'><div class='content'></div></div>
        <div class='bubble solf-6'><div class='content'></div></div>
        <div class='bubble solf-7'><div class='content'></div></div>
        <div class='bubble nohidden'><div class='content iconfont'>&#xf55a;</div></div>
      </div>
    </div>
  </div>

  <div class='modal hidden' id='modal-intro'>
    <p class='title' data-t='rules'></p>
    <div class='options-btns-list'>
      <span>üåê <span data-t='opt-lang'></span></span>
      <div id='btn-lang-alt' class='small-btn'></div>
    </div>
    <p data-t='rule-01'></p>
    <p data-t='rule-02'></p>
    <p data-t='rule-03'></p>
    <div class='options-btns-list'>
      <span>‚ú® <span data-t='opt-high-con'></span></span>
      <div id='btn-high-con-alt' class='small-btn'></div>
    </div>
    <div class='list intro'>
      <div class='bg'>
        <div class='bubble none'><div class='content'></div></div>
        <div class='bubble bingo'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
      </div>
      <div class='fg'>
        <div class='bubble solf-1 none'><div class='content'></div></div>
        <div class='bubble solf-2 bingo'><div class='content'></div></div>
        <div class='bubble solf-3 none'><div class='content'></div></div>
        <div class='bubble solf-4 none'><div class='content'></div></div>
        <div class='bubble solf-5 none'><div class='content'></div></div>
      </div>
    </div>
    <p style='text-align: center; color: #888' data-t='rule-11'></p>
    <div class='list intro'>
      <div class='bg'>
        <div class='bubble none'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
        <div class='bubble maybe'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
      </div>
      <div class='fg'>
        <div class='bubble solf-1 none'><div class='content'></div></div>
        <div class='bubble solf-2 none'><div class='content'></div></div>
        <div class='bubble solf-3 maybe'><div class='content'></div></div>
        <div class='bubble solf-4 none'><div class='content'></div></div>
        <div class='bubble solf-5 none'><div class='content'></div></div>
      </div>
    </div>
    <p style='text-align: center; color: #888' data-t='rule-12'></p>
    <br>
    <p data-t='rule-21'></p>
    <div class='list intro'>
      <div class='bg'>
        <div class='bubble maybe'><div class='content'></div></div>
        <div class='bubble maybe'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
        <div class='bubble bingo'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
        <div class='bubble none'><div class='content'></div></div>
      </div>
      <div class='fg'>
        <div class='bubble solf-1 maybe'><div class='content'></div></div>
        <div class='bubble solf-1 maybe'><div class='content'></div></div>
        <div class='bubble solf-1 none'><div class='content'></div></div>
        <div class='bubble solf-1 bingo'><div class='content'></div></div>
        <div class='bubble solf-5 none'><div class='content'></div></div>
        <div class='bubble solf-6 none'><div class='content'></div></div>
      </div>
    </div>
    <p style='text-align: center; color: #888' data-t='rule-31'></p>
    <br>
    <p data-t='rule-41'></p>
    <div class='list intro'>
      <div class='bg'>
        <div class='bubble bingo'><div class='content'></div></div>
        <div class='bubble none'><div class='content'><div class='accidental sharp'></div></div></div>
        <div class='bubble none'><div class='content'><div class='accidental flat'></div></div></div>
        <div class='bubble maybe'><div class='content'><div class='tune-dot ottava'></div></div></div>
        <div class='bubble none'><div class='content'><div class='tune-dot ottava-bassa'></div></div></div>
      </div>
      <div class='fg'>
        <div class='bubble solf-1 bingo'><div class='content'></div></div>
        <div class='bubble solf-2 none'><div class='content'></div></div>
        <div class='bubble solf-3 none'><div class='content'></div></div>
        <div class='bubble solf-4 maybe'><div class='content'></div></div>
        <div class='bubble solf-5 none'><div class='content'></div></div>
      </div>
    </div>
    <p style='text-align: center; color: #888' data-t='rule-51'></p>
    <br>
    <p data-t='rule-61'></p>
    <p style='color: #999' data-t='daily-update'></p>
    <div class='bottom-shadow'></div>
  </div>
  <div class='modal hidden' id='modal-finish'>
    <p class='title'>Medle #<%= it.id %></p>
    <p id='reveal-title'><span style='margin-right: 9px;' class='iconfont'>&#x1f3b5;</span><strong data-t='=title'></strong></p>
    <p id='reveal-author'><span style='margin-right: 9px;' class='iconfont'>&#xf56b;</span><span data-t='=author'></p>
    <div id='answer-container'></div>
    <div class='list btn disabled' id='btn-play'>
      <div class='bg'>
        <div class='bubble' onclick='revealPlay()'>
          <div class='content'></div>
        </div>
      </div>
      <div class='fg'>
        <div class='bubble'><div class='content iconfont' id='btn-play-content'>&#xf141;</div></div>
      </div>
    </div>
    <p id='reveal-desc' data-t='=desc'></p>
    <% if (it['zh-Hans'].image) { %>
      <img src='/reveal/<%= it.id %>.jpg' data-t='=image'>
    <% } %>
    <div id='btn-share'>
      <span id='btn-share-text-share'><span class='iconfont' style='visibility: hidden'>&#x2714;</span><span data-t='btn-share'></span><span class='iconfont' style='visibility: hidden'>&#x2714;</span></span>
      <span id='btn-share-text-shared'><span class='iconfont'>&#x2714;</span> <span data-t='btn-shared'></span></span>
    </div>
    <p style='color: #999'><span class='iconfont'>&#x266a;</span><span data-t='curator<% if (it.isDaily) { %>-today<% } %>'></span><span style='margin: 0 8px'>|</span><%= it.curator %></p>
    <% if (it.isDaily) { %>
      <p style='color: #999' data-t='daily-update'></p>
    <% } %>
    <div class='bottom-shadow'></div>
  </div>
  <div class='modal hidden' id='modal-archive'>
    <p class='title' data-t='archive'></p>
    <div id='archive-container'>
    </div>
    <div class='bottom-shadow'></div>
  </div>
  <div class='modal hidden' id='modal-options'>
    <p class='title' data-t='opt-title'></p>
    <div class='options-btns-list'>
      <span>üé∂ <span data-t='opt-sfx'></span></span>
      <div id='btn-play-sfx' class='small-btn'></div>
    </div>
    <div class='options-btns-list'>
      <span>‚è± <span data-t='opt-metronome'></span></span>
      <div id='btn-metronome' class='small-btn'></div>
    </div>
    <div class='options-btns-list'>
      <span>üåô <span data-t='opt-dark'></span></span>
      <div id='btn-dark-theme' class='small-btn'></div>
    </div>
    <div class='options-btns-list'>
      <span>‚ú® <span data-t='opt-high-con'></span></span>
      <div id='btn-high-con' class='small-btn'></div>
    </div>
    <div class='options-btns-list'>
      <span>üî£ <span data-t='opt-nota'></span></span>
      <div id='btn-notation' class='small-btn'>
        <span id='btn-notation-text-num'><span data-t='opt-nota-num'></span></span>
        <span id='btn-notation-text-solf'><span data-t='opt-nota-solf'></span></span>
        <span id='btn-notation-text-alpha'><span data-t='opt-nota-alpha'></span></span>
        <span id='btn-notation-text-roman'><span data-t='opt-nota-roman'></span></span>
        <span id='btn-notation-text-aikin'><span data-t='opt-nota-aikin'></span></span>
      </div>
    </div>
    <div class='options-btns-list'>
      <span>üåê <span data-t='opt-lang'></span></span>
      <div id='btn-lang' class='small-btn'></div>
    </div>
    <br>
    <div style='color: #999'>
      <span>&copy; Medle 2022</span><br>
      <span id='repo-notes'><a href='https://github.com/kawa-yoiko/medle'><span data-t='opt-source'></span></a><span data-t='opt-dist'></span></span>
    </div>
    <div class='bottom-shadow'></div>
  </div>
  <% if (it.guideToToday) { %>
  <div class='modal hidden' id='modal-guide-today'>
    <p class='title'>üìú</p>
    <p><span data-t='guide-today-1-pfx'></span><strong>#<%= it.id %></strong><span data-t='guide-today-1-sfx'></span></p>
    <p><span data-t='guide-today-2-pfx'></span><strong>#<%= it.todayDaily %></strong><span data-t='guide-today-2-sfx'></span></p>
    <div id='guide-today-links'></div>
    <p style='color: #999' data-t='daily-update'></p>
  </div>
  <% } %>
</div>
<div id='modal-bg' class='hidden'></div>

<style>
<%~ it.acciStyles %>
</style>

<script src='/static/clipboard.min.js'></script>
<script src='/static/languages.js'></script>
<script>
const puzzleId = <%~ JSON.stringify(it.id) %>;
const tune = <%~ JSON.stringify(it.tune) %>;
const tuneBeatDur = <%= it.tuneBeatDur %>;
const tunePitchBase = <%= it.tunePitchBase %>;
const tunePitchBend = <%= it.tunePitchBend %>;
const tuneNoteBase = '<%= it.tuneNoteBase %>';
const metronome = <%= JSON.stringify(it.metronome) %>;
const tuneRevealBeatDur = <%= it.tuneRevealBeatDur %>;
const tuneRevealOffset = <%= it.tuneRevealOffset %>;
const isDaily = <%= it.isDaily %>;
const guideToToday = <%= it.guideToToday %>;
const todayDaily = <%~ JSON.stringify(it.todayDaily) %>;

const i18nVars = <%~ JSON.stringify(it.i18nVars) %>;
</script>
<script src='/static/index.js'></script>

</body></html>
